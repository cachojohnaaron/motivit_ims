(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6e8dd2dc"],{ac76:function(t,a,s){"use strict";s.r(a);var e=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"dashboard"},[s("Sidebar"),s("Topbar"),t._m(0),s("v-row",[s("div",{staticClass:"card-buttons d-flex justify-space-between"},[s("span",{staticClass:"page-buttons"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"form-control mb-3",attrs:{type:"text",id:"search",placeholder:"Type to search.."},domProps:{value:t.search},on:{input:function(a){a.target.composing||(t.search=a.target.value)}}}),t._v("   "),t.isSearching?s("span",{staticClass:"me-2 pt-3"},[s("v-chip",{staticClass:"blue lighten-5",staticStyle:{height:"25px"}},[s("v-progress-circular",{attrs:{indeterminate:"",color:"primary",size:"15"}}),t._v("  "),s("v-text",{staticStyle:{color:"blue","font-size":"11px"}},[t._v("Processing Data..")])],1)],1):t._e()]),s("span",{staticClass:"page-buttons"},[s("button",{staticClass:"btn btn-light btn-subheader-third",attrs:{type:"button","data-toggle":"modal","data-target":"#exp-options","data-backdrop":"static","data-keyboard":"false"},on:{click:function(a){return t.showExport()}}},[t._v("Export")])])])]),s("v-row",[s("div",{staticClass:"card",staticStyle:{width:"100%"},attrs:{id:"tblUser"}},[s("div",{staticClass:"table-responsive-sm",staticStyle:{padding:"0px 5px 0px 5px"}},[s("table",{staticClass:"table-sm table-hover",attrs:{id:"tblAccessoryDeployed"}},[s("thead",{},[s("tr",[s("th",[t._v("Accessory Name")]),s("th",[t._v("Manufacturer")]),s("th",[t._v("Deployed To")]),s("th",[t._v("Deploy Date")]),s("th",[t._v("Action")])])]),s("tbody",t._l(t.filteredAccessory,(function(a){return s("tr",{key:a},[s("td",{domProps:{innerHTML:t._s(t.highlightMatches(a.acs_name))}},[t._v(t._s(a.acs_name))]),s("td",{domProps:{innerHTML:t._s(t.highlightMatches(a.acs_manufacturer))}},[t._v(t._s(a.acs_manufacturer))]),s("td",{domProps:{innerHTML:t._s(t.highlightMatches(a.name))}},[t._v(t._s(a.name))]),s("td",{domProps:{innerHTML:t._s(t.highlightMatches(a.transaction_date))}},[t._v(t._s(a.transaction_date))]),s("td",[s("button",{staticClass:"btn-sm btn-action",attrs:{"modal-no-backdrop":"","data-toggle":"modal","data-target":"#rtn-accessory","data-backdrop":"static","data-keyboard":"false"},on:{click:function(s){return t.showModalReturn(a)}}},[s("v-icon",{staticStyle:{"font-size":"16px"},attrs:{color:"warning",title:"Return Accessory"}},[t._v("mdi-refresh")])],1)])])})),0)])])])]),s("div",{staticClass:"modal fade modal-update-asset",staticStyle:{"font-size":"13px"},attrs:{id:"exp-options",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[s("div",{staticClass:"modal-dialog rtn-accessory",attrs:{role:"document"}},[s("div",{staticClass:"modal-content"},[s("div",{staticClass:"modal-header"},[s("h6",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[t._v("Generate Report")]),s("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"},on:{click:function(a){return t.cancelModal()}}},[s("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),s("div",{staticClass:"modal-body"},[s("label",[t._v("Custom Date Range:")]),t._m(1),s("label",{staticClass:"mt-3"},[t._v("Export Options:")]),s("div",{staticClass:"row align-items-center"},[s("div",{staticClass:"d-grid col-6"},[s("button",{staticClass:"btn btn-primary btn-block",on:{click:function(a){return t.exportPDF("pdf")}}},[t._v("PDF")])]),s("div",{staticClass:"d-grid col-6"},[s("button",{staticClass:"btn btn-primary btn-block",on:{click:function(a){return t.exportExcel("xlsx")}}},[t._v("Excel")])])])])])])]),s("div",{staticClass:"modal fade modal-update-asset",attrs:{id:"rtn-accessory",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[s("div",{staticClass:"modal-dialog rtn-accessory",attrs:{role:"document"}},[s("div",{staticClass:"modal-content"},[t._m(2),s("div",{staticClass:"modal-body"},[s("form",{attrs:{name:"returnAccessory",action:"",method:"POST"}},[s("div",{staticStyle:{display:"none"}},[s("div",{staticClass:"row align-items-center"},[t._m(3),s("div",{staticClass:"col-auto"},[s("input",{directives:[{name:"model",rawName:"v-model.lazy",value:t.UsersData.assign_accessory_id,expression:"UsersData.assign_accessory_id",modifiers:{lazy:!0}}],staticClass:"form-control mb-3",attrs:{type:"text",name:"assign_accessory_id",id:"assign_accessory_id",placeholder:"",readonly:""},domProps:{value:t.UsersData.assign_accessory_id},on:{change:function(a){return t.$set(t.UsersData,"assign_accessory_id",a.target.value)}}})])]),s("div",{staticClass:"row align-items-center"},[t._m(4),s("div",{staticClass:"col-auto"},[s("input",{directives:[{name:"model",rawName:"v-model.lazy",value:t.UsersData.acs_id,expression:"UsersData.acs_id",modifiers:{lazy:!0}}],staticClass:"form-control mb-3",attrs:{type:"text",name:"acs_id",id:"acs_id",placeholder:"",readonly:""},domProps:{value:t.UsersData.acs_id},on:{change:function(a){return t.$set(t.UsersData,"acs_id",a.target.value)}}})])]),s("div",{staticClass:"row align-items-center"},[t._m(5),s("div",{staticClass:"col-auto"},[s("input",{directives:[{name:"model",rawName:"v-model.lazy",value:t.UsersData.emp_id,expression:"UsersData.emp_id",modifiers:{lazy:!0}}],staticClass:"form-control mb-3",attrs:{type:"text",name:"emp_id",id:"emp_id",placeholder:"",readonly:""},domProps:{value:t.UsersData.emp_id},on:{change:function(a){return t.$set(t.UsersData,"emp_id",a.target.value)}}})])])]),t._m(6),s("hr"),s("div",{staticClass:"modal-bottom"},[s("button",{staticClass:"mb-3 btn btn-secondary",attrs:{block:"","data-dismiss":"modal"},on:{click:function(a){return t.cancelModal()}}},[t._v("Cancel")]),s("button",{staticClass:"ms-2 mb-3 btn btn-success",attrs:{block:""},on:{click:function(a){return a.preventDefault(),t.returnAccessory()}}},[t._v("Yes")])])])])])])])],1)},o=[function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("h6",{staticClass:"page-header"},[s("strong",[t._v("Deployed Accessories ")])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"row align-items-center"},[s("div",{staticClass:"d-grid col-6"},[s("div",{staticClass:"input-group flex-nowrap"},[s("span",{staticClass:"input-group-text",attrs:{id:"addon-wrapping","data-bs-toggle":"tooltip","data-bs-placement":"top",title:"Date of Purchase"}},[s("small",[t._v("From")])]),s("input",{staticClass:"start-date form-control",attrs:{type:"date",id:"fromDate",name:"fromDate","aria-describedby":"addon-wrapping"}})])]),s("div",{staticClass:"d-grid col-6"},[s("div",{staticClass:"input-group flex-nowrap"},[s("span",{staticClass:"input-group-text",attrs:{id:"addon-wrapping","data-bs-toggle":"tooltip","data-bs-placement":"top",title:"Date of Purchase"}},[s("small",[t._v("To")])]),s("input",{staticClass:"end-date form-control",attrs:{type:"date",id:"toDate",name:"toDate","aria-describedby":"addon-wrapping"}})])])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"modal-header"},[s("h6",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[t._v("Return Accessory")]),s("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[s("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"col-auto"},[s("label",{attrs:{for:"acs_id"}},[s("b",[t._v("Trans")])])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"col-auto"},[s("label",{attrs:{for:"acs_id"}},[s("b",[t._v("Accessory ID")])])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"col-auto"},[s("label",{attrs:{for:"emp_id"}},[s("b",[t._v("Employee ID")])])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticStyle:{"text-align":"center"}},[s("h6",{staticClass:"rtn-modal-title"},[t._v("Are you sure you want to return this accessory?")])])}],i=(s("4de4"),s("caad"),s("2532"),s("b0c0"),s("ac1f"),s("841c"),s("4d63"),s("25f0"),s("5319"),s("5ea5")),r=s("ddc0"),c=s("2ef0"),n=s("bc3a"),l=s.n(n),d=s("8baf"),p=(s("0da4"),s("279c")),u=s.n(p),m={name:"accessory",data:function(){return{isSearching:!1,search:"",UsersData:{user_id:null},Accessory:[],Employees:[],filteredAccessory:[]}},components:{Topbar:r["a"],Sidebar:i["a"]},created:function(){var t=this;if(this.$session.exists("login-session")){var a=this.$session.get("login-session"),s=this.$session.get("login-session-enc");u.a.compare(a,s,(function(a,s){0==s&&t.$router.push({path:"/"})}))}else this.$router.push({path:"/"});this.getAllAccessoryDeployed(),this.getDropdownEmployee()},watch:{search:{handler:function(t){this.setAccessoriesDeployedDebounced(t)},immediate:!0}},methods:{showModal:function(t){this.UsersData=t,this.$bvModal.show("upd-accessory")},showModalReturn:function(t){this.UsersData=t,this.$bvModal.show("return-accessory")},showDeployModal:function(t){this.UsersData=t,this.$bvModal.show("modalDeployAccessory")},cancelModal:function(){this.$bvModal.hide("upd-accessory"),this.$bvModal.hide("modalDeployAccessory"),this.$bvModal.hide("return-accessory")},updateAccessory:function(){var t=new FormData;t.append("acs_id",this.UsersData.acs_id),t.append("acs_name",this.UsersData.acs_name),t.append("acs_category",this.UsersData.acs_category),t.append("acs_manufacturer",this.UsersData.acs_manufacturer),t.append("quantity",this.UsersData.quantity),t.append("location",this.UsersData.location),l.a.post("http://localhost/motivit/motivit_ims/src/Api/api.php?action=updateAccessory",t).then((function(t){t.data.error?alert("Error"):alert(t.data.message)})).catch((function(t){console.log(t)}))},getAllAccessoryDeployed:function(){var t=this;l.a.get("http://localhost/motivit/motivit_ims/src/Api/api.php?action=getallaccessoryDeployed").then((function(a){console.log(a.data.user_Data),t.Accessory=a.data.user_Data})).catch((function(t){console.log(t)}))},getDropdownEmployee:function(){var t=this;l.a.get("http://localhost/motivit/motivit_ims/src/Api/dropdown.php?action=ddEmployee").then((function(a){console.log(a.data.user_Data),t.Employees=a.data.user_Data})).catch((function(t){console.log(t)}))},DeleteAsset:function(t){var a=this,s=new FormData;this.UsersData=t,s.append("id",this.UsersData.acs_id),l.a.post("http://localhost/motivit/motivit_ims/src/Api/api.php?action=disableAccessory",s).then((function(t){t.data.error?alert("ERR"):(a.getAllAssets(),alert(t.data.message))}))},deployAccessory:function(){var t=new FormData;t.append("acs_id",this.UsersData.acs_id),t.append("emp_id",this.UsersData.employee),l.a.post("http://localhost/motivit/motivit_ims/src/Api/api.php?action=deployAccessory",t).then((function(t){t.data.error?alert("Error"):window.location.reload})).catch((function(t){console.log(t)}))},returnAccessory:function(){var t=this,a=new FormData;a.append("acs_id",this.UsersData.acs_id),a.append("emp_id",this.UsersData.emp_id),a.append("assign_accessory_id",this.UsersData.assign_accessory_id),l.a.post("http://localhost/motivit/motivit_ims/src/Api/api.php?action=returnAccessory",a).then((function(a){a.data.error?alert("Error"):t.$router.go()})).catch((function(t){console.log(t)}))},showExport:function(){this.$bvModal.show("exp-options")},exportPDF:function(){var t=new d["default"]("l","mm","legal"),a=20;t.text(135,a+=15,"ALL ASSETS RECORD"),t.autoTable({html:"#tblAccessoryDeployed",startY:50,styles:{cellWidth:"wrap"},columnStyles:{1:{columnWidth:"auto"}},columns:[{header:"asset_id"},{header:"asset_tag"},{header:"serial_no"},{header:"dd"}]}),t.save("Report-Accessory_Deployed.pdf")},setAccessoriesDeployedDebounced:Object(c["debounce"])((function(t){this.isSearching=!0,setTimeout(function(){this.isSearching=!1,this.filteredAccessory=this.Accessory.filter((function(a){return a.acs_name.toLowerCase().includes(t.toLowerCase())||a.acs_manufacturer.toLowerCase().includes(t.toLowerCase())||a.name.toLowerCase().includes(t.toLowerCase())||a.transaction_date.toLowerCase().includes(t.toLowerCase())}))}.bind(this),1e3)}),2e3),highlightMatches:function(t){var a=t.toLowerCase().includes(this.search.toLowerCase());if(!a)return t;var s=new RegExp(this.search,"ig");return t.replace(s,(function(t){return'<b style="background-color: yellow;">'.concat(t,"</b>")}))}}},h=m,_=(s("f05e"),s("2877")),v=s("6544"),y=s.n(v),f=s("cc20"),b=s("132d"),g=s("490a"),C=s("0fd9"),D=Object(_["a"])(h,e,o,!1,null,"c5055b82",null);a["default"]=D.exports;y()(D,{VChip:f["a"],VIcon:b["a"],VProgressCircular:g["a"],VRow:C["a"]})},f05e:function(t,a,s){"use strict";s("ffa1")},ffa1:function(t,a,s){}}]);
//# sourceMappingURL=chunk-6e8dd2dc.62106107.js.map