(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-13255ad8"],{"1d9c":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dashboard"},[a("Sidebar"),a("Topbar"),t._m(0),a("v-row",[a("div",{staticClass:"card-buttons d-flex justify-space-between"},[a("span",{staticClass:"page-buttons"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"form-control mb-3",attrs:{type:"text",id:"search",placeholder:"Type to search.."},domProps:{value:t.search},on:{input:function(e){e.target.composing||(t.search=e.target.value)}}}),t._v("   "),t.isSearching?a("span",{staticClass:"me-2 pt-3"},[a("v-chip",{staticClass:"blue lighten-5",staticStyle:{height:"25px"}},[a("v-progress-circular",{attrs:{indeterminate:"",color:"primary",size:"15"}}),t._v("  "),a("v-text",{staticStyle:{color:"blue","font-size":"11px"}},[t._v("Processing Data..")])],1)],1):t._e()]),a("span",{staticClass:"page-buttons"},[a("button",{staticClass:"btn btn-light btn-subheader-third",attrs:{type:"button","data-toggle":"modal","data-target":"#exp-options","data-backdrop":"static","data-keyboard":"false"},on:{click:function(e){return t.showExport()}}},[t._v("Export")])])])]),a("v-row",[a("div",{staticClass:"card",staticStyle:{width:"100%",padding:"5px"},attrs:{id:"tblUser"}},[a("div",{staticClass:"d-flex justify-content-end mb-3"},[a("div")]),a("div",{staticClass:"table-responsive-sm",staticStyle:{padding:"0px 5px 0px 5px"}},[a("table",{staticClass:"table-sm table-hover",attrs:{id:"tblAssetRTD"}},[a("thead",{},[a("tr",[a("th",[t._v("Asset ID")]),a("th",[t._v("Asset Tag")]),a("th",[t._v("Serial Number")]),a("th",[t._v("Category")]),a("th",[t._v("Model")]),a("th",[t._v("Status")]),a("th",[t._v("Deploy")])])]),a("tbody",t._l(t.filteredAssets,(function(e){return a("tr",{key:e},[a("td",{domProps:{innerHTML:t._s(t.highlightMatches(e.asset_id))}},[t._v(t._s(e.asset_id))]),a("td",{domProps:{innerHTML:t._s(t.highlightMatches(e.asset_tag))}},[t._v(t._s(e.asset_tag))]),a("td",{domProps:{innerHTML:t._s(t.highlightMatches(e.serialno))}},[t._v(t._s(e.serialno))]),a("td",{domProps:{innerHTML:t._s(t.highlightMatches(e.category))}},[t._v(t._s(e.category))]),a("td",{domProps:{innerHTML:t._s(t.highlightMatches(e.model))}},[t._v(t._s(e.model))]),a("td",{domProps:{innerHTML:t._s(t.highlightMatches(e.status))}},[t._v(t._s(e.status))]),a("td",[a("button",{staticClass:"btn-sm btn-action",attrs:{"modal-no-backdrop":"","data-toggle":"modal","data-target":"#deploy-asset","data-backdrop":"static","data-keyboard":"false"},on:{click:function(a){return t.showDeployModal(e)}}},[a("v-icon",{staticStyle:{"font-size":"16px"},attrs:{color:"warning",title:"Deploy Asset"}},[t._v("mdi-rocket-launch")])],1)])])})),0)])])])]),a("div",{staticClass:"modal fade modal-update-asset",staticStyle:{"font-size":"13px"},attrs:{id:"exp-options",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog rtn-asset",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("h6",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[t._v("Generate Report")]),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"},on:{click:function(e){return t.cancelModal()}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),a("div",{staticClass:"modal-body"},[a("label",[t._v("Custom Date Range:")]),t._m(1),a("label",{staticClass:"mt-3"},[t._v("Export Options:")]),a("div",{staticClass:"row align-items-center"},[a("div",{staticClass:"d-grid col-6"},[a("button",{staticClass:"btn btn-primary btn-block",on:{click:function(e){return t.exportPDF("pdf")}}},[t._v("PDF")])]),a("div",{staticClass:"d-grid col-6"},[a("button",{staticClass:"btn btn-primary btn-block",on:{click:function(e){return t.exportExcel("xlsx")}}},[t._v("Excel")])])])])])])]),a("div",{staticClass:"modal fade modal-update-asset",attrs:{id:"deploy-asset",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[t._m(2),a("div",{staticClass:"modal-body"},[t.alertSuccess?a("div",{staticClass:"alert alert-success",attrs:{role:"alert"}},[a("v-icon",{attrs:{color:"success",size:"15px"}},[t._v("mdi-checkbox-marked-circle")]),t._v("  "),a("strong",[t._v("Success!")]),t._v(" Asset deployed.")],1):t._e(),t.alertError?a("div",{staticClass:"alert alert-danger",attrs:{role:"alert"}},[a("v-icon",{attrs:{color:"red",size:"15px"}},[t._v("mdi-alert-circle")]),t._v(" Please fill up all of the required fields"),a("span",{staticStyle:{color:"red"}},[t._v("  *")])],1):t._e(),a("form",{attrs:{name:"deployAsset",action:"",method:"POST"}},[a("div",{staticClass:"form-row"},[a("div",{staticClass:"form-group"},[t._m(3),a("input",{directives:[{name:"model",rawName:"v-model.lazy",value:t.UsersData.asset_id,expression:"UsersData.asset_id",modifiers:{lazy:!0}}],staticClass:"form-control mb-3",attrs:{type:"text",name:"asset_id",id:"asset_id",placeholder:"",readonly:""},domProps:{value:t.UsersData.asset_id},on:{change:function(e){return t.$set(t.UsersData,"asset_id",e.target.value)}}})]),a("div",{staticClass:"form-group"},[t._m(4),a("input",{directives:[{name:"model",rawName:"v-model.lazy",value:t.UsersData.asset_tag,expression:"UsersData.asset_tag",modifiers:{lazy:!0}}],staticClass:"form-control mb-3",attrs:{type:"text",name:"asset_tag",id:"asset_tag",readonly:"",placeholder:""},domProps:{value:t.UsersData.asset_tag},on:{change:function(e){return t.$set(t.UsersData,"asset_tag",e.target.value)}}})]),a("div",{staticClass:"form-group"},[t._m(5),a("input",{directives:[{name:"model",rawName:"v-model.lazy",value:t.UsersData.serialno,expression:"UsersData.serialno",modifiers:{lazy:!0}}],staticClass:"form-control mb-3",attrs:{type:"text",name:"serialno",id:"serialno",readonly:"",placeholder:""},domProps:{value:t.UsersData.serialno},on:{change:function(e){return t.$set(t.UsersData,"serialno",e.target.value)}}})])]),a("div",{staticClass:"form-row"},[a("div",{staticClass:"form-group"},[t._m(6),a("input",{directives:[{name:"model",rawName:"v-model.lazy",value:t.UsersData.model,expression:"UsersData.model",modifiers:{lazy:!0}}],staticClass:"form-control mb-3",attrs:{type:"text",name:"model",id:"model",readonly:"",placeholder:""},domProps:{value:t.UsersData.model},on:{change:function(e){return t.$set(t.UsersData,"model",e.target.value)}}})]),a("div",{staticClass:"form-group"},[t._m(7),a("input",{directives:[{name:"model",rawName:"v-model.lazy",value:t.UsersData.supplier,expression:"UsersData.supplier",modifiers:{lazy:!0}}],staticClass:"form-control mb-3",attrs:{type:"text",name:"supplier",id:"supplier",readonly:"",placeholder:""},domProps:{value:t.UsersData.supplier},on:{change:function(e){return t.$set(t.UsersData,"supplier",e.target.value)}}})]),a("div",{staticClass:"form-group"},[t._m(8),a("input",{directives:[{name:"model",rawName:"v-model.lazy",value:t.UsersData.asset_location,expression:"UsersData.asset_location",modifiers:{lazy:!0}}],staticClass:"form-control mb-3",attrs:{type:"text",name:"asset_location",id:"asset_location",readonly:"",placeholder:""},domProps:{value:t.UsersData.asset_location},on:{change:function(e){return t.$set(t.UsersData,"asset_location",e.target.value)}}})])]),a("div",{staticClass:"form-group",staticStyle:{"margin-left":"5px"}},[t._m(9),a("select",{directives:[{name:"model",rawName:"v-model.lazy",value:t.UsersData.employee,expression:"UsersData.employee",modifiers:{lazy:!0}}],staticClass:"form-control",staticStyle:{height:"23px","padding-top":"0","padding-bottom":"0"},attrs:{name:"employee",id:"employee"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.UsersData,"employee",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"1"}},[t._v("-- Select Employee --")]),t._l(t.Employees,(function(e){return a("option",{domProps:{value:e.emp_id}},[t._v(t._s(e.name))])}))],2)]),a("hr"),a("div",{staticClass:"modal-bottom"},[a("button",{staticClass:"mb-3 btn btn-secondary",attrs:{block:"","data-dismiss":"modal"},on:{click:function(e){return t.cancelModal()}}},[t._v("Cancel")]),a("button",{staticClass:"ms-2 mb-3 btn btn-warning",attrs:{block:""},on:{click:function(e){return e.preventDefault(),t.deployAsset()}}},[t._v("Deploy")])])])])])])])],1)},o=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h6",{staticClass:"page-header"},[a("strong",[t._v("Ready to Deploy Assets ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row align-items-center"},[a("div",{staticClass:"d-grid col-6"},[a("div",{staticClass:"input-group flex-nowrap"},[a("span",{staticClass:"input-group-text",attrs:{id:"addon-wrapping","data-bs-toggle":"tooltip","data-bs-placement":"top",title:"Date of Purchase"}},[a("small",[t._v("From")])]),a("input",{staticClass:"start-date form-control",attrs:{type:"date",id:"fromDate",name:"fromDate","aria-describedby":"addon-wrapping"}})])]),a("div",{staticClass:"d-grid col-6"},[a("div",{staticClass:"input-group flex-nowrap"},[a("span",{staticClass:"input-group-text",attrs:{id:"addon-wrapping","data-bs-toggle":"tooltip","data-bs-placement":"top",title:"Date of Purchase"}},[a("small",[t._v("To")])]),a("input",{staticClass:"end-date form-control",attrs:{type:"date",id:"toDate",name:"toDate","aria-describedby":"addon-wrapping"}})])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-header"},[a("h6",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[t._v("Deploy Asset")]),a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{attrs:{for:"asset_id"}},[a("b",[t._v("Asset ID")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{attrs:{for:"asset_tag"}},[a("b",[t._v("Asset Tag")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{attrs:{for:"serialno"}},[a("b",[t._v("Serial No.")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{attrs:{for:"model"}},[a("b",[t._v("Model")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{attrs:{for:"supplier"}},[a("b",[t._v("Supplier")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{attrs:{for:"asset_location"}},[a("b",[t._v("Location")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("label",{attrs:{for:"employee"}},[a("b",[t._v("Deploy To:"),a("span",{staticStyle:{color:"red"}},[t._v(" *")])])])}],r=(a("4de4"),a("caad"),a("2532"),a("ac1f"),a("841c"),a("4d63"),a("25f0"),a("5319"),a("5ea5")),l=a("ddc0"),i=a("2ef0"),n=a("bc3a"),c=a.n(n),d=a("8baf"),p=(a("0da4"),a("279c")),u=a.n(p),m={name:"asset",data:function(){return{search:"",isSearching:!1,alertSuccess:null,alertError:null,UsersData:{user_id:null},EmployeeData:{emp_id:null},Assets:[],Employees:[],filteredAssets:[]}},components:{Topbar:l["a"],Sidebar:r["a"]},created:function(){var t=this;if(this.$session.exists("login-session")){var e=this.$session.get("login-session"),a=this.$session.get("login-session-enc");u.a.compare(e,a,(function(e,a){0==a&&t.$router.push({path:"/"})}))}else this.$router.push({path:"/"});this.getAllAssets(),this.getAllEmployee(),this.getDropdownEmployee()},watch:{search:{handler:function(t){this.setAssetsRTDDebounced(t)},immediate:!0}},methods:{showDeployModal:function(t){this.UsersData=t},showModal:function(t){this.UsersData=t},cancelModal:function(){this.$bvModal.hide("upd-licenses"),this.$bvModal.hide("modalDeployAsset")},getAllAssets:function(){var t=this;c.a.get("http://localhost/motivit/motivit_ims/src/Api/api.php?action=getallassetRTD").then((function(e){console.log(e.data.user_Data),t.Assets=e.data.user_Data})).catch((function(t){console.log(t)}))},getAllEmployee:function(){var t=this;c.a.get("http://localhost/motivit/motivit_ims/src/Api/api.php?action=getallemployee2").then((function(e){console.log(e.data.emp_Data),t.Users=e.data.emp_Data})).catch((function(t){console.log(t)}))},getDropdownEmployee:function(){var t=this;c.a.get("http://localhost/motivit/motivit_ims/src/Api/dropdown.php?action=ddEmployee").then((function(e){console.log(e.data.user_Data),t.Employees=e.data.user_Data})).catch((function(t){console.log(t)}))},deployAsset:function(){var t=this;if(this.UsersData.employee){var e=new FormData;e.append("asset_id",this.UsersData.asset_id),e.append("emp_id",this.UsersData.employee),c.a.post("http://localhost/motivit/motivit_ims/src/Api/api.php?action=deployAsset",e).then((function(e){e.data.error?(alert("ERROR"),console.log(e.data.error)):(t.alertError=!1,t.alertSuccess=!0,setTimeout((function(){window.location.reload()}),1e3))})).catch((function(t){console.log(t)}))}else this.alertError=!0},showExport:function(){this.$bvModal.show("exp-options")},exportPDF:function(){var t=new d["default"]("l","mm","legal"),e=20;t.text(135,e+=15,"Ready to Deploy Assets"),t.autoTable({html:"#tblAssetRTD",startY:50,styles:{cellWidth:"wrap"},columnStyles:{1:{columnWidth:"auto"}},columns:[{header:"asset_id"},{header:"asset_tag"},{header:"serial_no"},{header:"category"},{header:"model"},{header:"status"}]}),t.save("Report-Asset_RTD.pdf")},setAssetsRTDDebounced:Object(i["debounce"])((function(t){this.isSearching=!0,setTimeout(function(){this.isSearching=!1,this.filteredAssets=this.Assets.filter((function(e){return e.asset_id.toLowerCase().includes(t.toLowerCase())||e.asset_tag.toLowerCase().includes(t.toLowerCase())||e.serialno.toLowerCase().includes(t.toLowerCase())||e.category.toLowerCase().includes(t.toLowerCase())||e.model.toLowerCase().includes(t.toLowerCase())||e.status.toLowerCase().includes(t.toLowerCase())}))}.bind(this),1e3)}),2e3),highlightMatches:function(t){var e=t.toLowerCase().includes(this.search.toLowerCase());if(!e)return t;var a=new RegExp(this.search,"ig");return t.replace(a,(function(t){return'<b style="background-color: yellow;">'.concat(t,"</b>")}))}}},h=m,v=(a("c3b5"),a("2877")),_=a("6544"),f=a.n(_),g=a("cc20"),b=a("132d"),y=a("490a"),C=a("0fd9"),D=Object(v["a"])(h,s,o,!1,null,"e2af3260",null);e["default"]=D.exports;f()(D,{VChip:g["a"],VIcon:b["a"],VProgressCircular:y["a"],VRow:C["a"]})},7761:function(t,e,a){},c3b5:function(t,e,a){"use strict";a("7761")}}]);
//# sourceMappingURL=chunk-13255ad8.85253dc3.js.map